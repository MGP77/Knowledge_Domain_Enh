# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Embedding Provider –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- ‚úÖ **ChromaDB**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (16.34 MB –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç—ã**: 1 –¥–æ–∫—É–º–µ–Ω—Ç, 9 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
- ‚ùå **Embedding Provider**: **–ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω**

## üéØ –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

–ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```json
{
  "cert_file_exists": true,
  "cert_file_size": 0,  ‚Üê –ü—Ä–æ–±–ª–µ–º–∞: —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø—É—Å—Ç–æ–π (0 –±–∞–π—Ç)
  "key_file_exists": true,
  "key_file_size": 677,
  "basic_availability": false,
  "embedding_test": {"success": false, "error": "–ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"}
}
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –§–∞–π–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ `../certificates/cert.pem` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä 0 –±–∞–π—Ç, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ —Ñ–∞–π–ª-–∑–∞–≥–ª—É—à–∫–∞.

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ

### 1. –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

–í –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ GigaChat –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mTLS –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é. –í–∞–º –Ω—É–∂–Ω–æ:

1. **–û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è:
   - –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (`cert.pem`)
   - –ü—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ (`key.pem`)

2. **–ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª—ã-–∑–∞–≥–ª—É—à–∫–∏** –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
   ```bash
   # –¢–µ–∫—É—â–∏–µ –ø—É—Ç–∏ (–∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
   ../certificates/cert.pem  ‚Üê –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
   ../certificates/key.pem   ‚Üê –£–∂–µ –µ—Å—Ç—å (677 –±–∞–π—Ç)
   ```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl x509 -in ../certificates/cert.pem -text -noout

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–ª—é—á–∞ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl x509 -noout -modulus -in ../certificates/cert.pem | openssl md5
openssl rsa -noout -modulus -in ../certificates/key.pem | openssl md5
# –•–µ—à–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

–ü–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

1. **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** ‚Üí **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** ‚Üí **üêõ –û—Ç–ª–∞–¥–∫–∞ GigaChat**
2. **–ò–ª–∏ —á–µ—Ä–µ–∑ API**: `GET /api/admin/gigachat-debug`

## üìã –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å:

```json
{
  "cert_file_size": > 0,        ‚Üê –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –ø—É—Å—Ç–æ–π
  "basic_availability": true,   ‚Üê –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ OK
  "embedding_test": {
    "success": true,            ‚Üê –¢–µ—Å—Ç embedding —É—Å–ø–µ—à–µ–Ω
    "status_code": 200
  }
}
```

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
2. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —á—Ç–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
3. **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ –∏—Å—Ç–µ–∫–ª–∏
4. **–°–µ—Ç—å**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ `gigachat-ift.sberdevices.delta.sbrf.ru`

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)

–ï—Å–ª–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ fallback embedding provider, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª–∏—Ç:
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫–∞—á–µ—Å—Ç–≤–æ–º)
- ‚ùå –ù–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π GigaChat

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ**: –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
2. **–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è**: –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª `cert.pem` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "üêõ –û—Ç–ª–∞–¥–∫–∞ GigaChat" –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

**–°—Ç–∞—Ç—É—Å**: –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤. üéØ